<Request>
  <Project name="clas12"/>
  <Track name="debug"/>
  <Name name="dihbsa"/>

<!-- sample XML Files in /u/group/hps/production/ -->

  <List name="hipoFile">
4013_4
4014_4
4015_4
4016_4
4017_4
4018_4
4020_4
4021_4
4026_4
4027_4
4030_4
4032_4
4033_4
4037_4
4038_4
4039_4
4041_4
4044_4
4045_4
4050_4
4053_4
4054_4
4055_4
4058_4
4059_4
4060_4
4061_4
4065_4
4067_4
4068_4
4069_4
4070_4
4071_4
4073_4
4074_4
4078_4
  </List>

  <Variable name="hipoDir" value="/mss/clas12/rg-a/production/trains/dnp2018/v0/skim4_inclusive" />
  <Variable name="workDir" value="/w/hallb-scifs17exp/clas12/dilks/dihbsa" />

  <ForEach list="hipoFile">
    <Job>
      <TimeLimit unit="minutes" time="40"/>
      <DiskSpace space="4" unit="GB" />
      <Memory space="3" unit="GB" />


      <Input src="mss:${hipoDir}/${hipoFile}.hipo" dest="infile.hipo"/>
      <Input src="file:${workDir}/analysis.exe" dest="analysis.exe"/>
      <Input src="file:${workDir}/DihBsa.so" dest="DihBsa.so"/>

      <Command><![CDATA[
        analysis.exe infile.hipo 1
      ]]></Command>

      <Output dest="${workDir}/outroot/${hipoFile}.root" src="outroot.root"/>
      <Stdout dest="${workDir}/logfiles/${hipoFile}.out"/>
      <Stderr dest="${workDir}/logfiles/${hipoFile}.err"/>
    </Job>
  </ForEach>

</Request>
