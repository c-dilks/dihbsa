// prints columns [phiR,phiH,asym,err] from the TGraph2DErrors in asym*.root

void printAsymGr(Int_t massbin=0) {
  Double_t phiH,phiR,asym,err;

  // chris's asym
  TFile * infile = new TFile("spinroot.chrisGrids/asym_4.root","READ");
  TString plotname = Form("asym_M%d",massbin);
  TGraph2DErrors * g = (TGraph2DErrors*) infile->Get(plotname);
  // x = phiR,  y = phiH
  for(int i=0; i<g->GetN(); i++) {
    g->GetPoint(i,phiR,phiH,asym);
    err = g->GetErrorZ(i);
    gSystem->RedirectOutput("asymPrint.chris.txt",i==0?"w":"a");
    printf("%.3f %.3f %.3f %.3f\n",phiR,phiH,asym,err);
    gSystem->RedirectOutput(0);
  };


  // timothy's asym
  // [massBin] [phiBin] [phiR,phiH,asym,err]
  Double_t gTim [2][64][4] = 
{{{0.196, 0.196, -0.059, 0.040}, {0.196, 0.982, 0.043, 0.022}, {0.196, 1.767, 0.004,
0.013}, {0.196, 2.553, 0.037, 0.010}, {0.196, 3.338, -0.006, 0.011}, {0.196, 4.123,
-0.037, 0.014}, {0.196, 4.909, -0.005, 0.020}, {0.196, 5.694, 0.022, 0.045}, {0.982,
0.196, -0.055, 0.051}, {0.982, 0.982, -0.032, 0.036}, {0.982, 1.767, 0.003, 0.018},
{0.982, 2.553, 0.018, 0.012}, {0.982, 3.338, 0.032, 0.011}, {0.982, 4.123, -0.031,
0.014}, {0.982, 4.909, -0.015, 0.020}, {0.982, 5.694, 0.029, 0.033}, {1.767, 0.196,
0.000, -10000}, {1.767, 0.982, -0.086, 0.097}, {1.767, 1.767, -0.053, 0.033}, {1.767,
2.553, 0.009, 0.015}, {1.767, 3.338, 0.032, 0.015}, {1.767, 4.123, 0.008, 0.015},
{1.767, 4.909, -0.005, 0.020}, {1.767, 5.694, 0.027, 0.040}, {2.553, 0.196, 0.143,
0.069}, {2.553, 0.982, 0.092, 0.075}, {2.553, 1.767, 0.017, 0.041}, {2.553, 2.553,
-0.023, 0.026}, {2.553, 3.338, -0.040, 0.022}, {2.553, 4.123, -0.021, 0.023}, {2.553,
4.909, -0.060, 0.030}, {2.553, 5.694, -0.009, 0.054}, {3.338, 0.196, 0.018, 0.060},
{3.338, 0.982, 0.068, 0.028}, {3.338, 1.767, 0.013, 0.022}, {3.338, 2.553, -0.018,
0.024}, {3.338, 3.338, 0.030, 0.026}, {3.338, 4.123, 0.025, 0.041}, {3.338, 4.909,
-0.059, 0.070}, {3.338, 5.694, -0.093, 0.074}, {4.123, 0.196, -0.088, 0.042}, {4.123,
0.982, 0.018, 0.020}, {4.123, 1.767, -0.024, 0.013}, {4.123, 2.553, -0.013, 0.013},
{4.123, 3.338, -0.037, 0.016}, {4.123, 4.123, 0.025, 0.029}, {4.123, 4.909, -0.052,
0.093}, {4.123, 5.694, -0.208, 0.095}, {4.909, 0.196, 0.030, 0.032}, {4.909, 0.982,
0.019, 0.019}, {4.909, 1.767, 0.002, 0.012}, {4.909, 2.553, -0.010, 0.011}, {4.909,
3.338, -0.036, 0.010}, {4.909, 4.123, -0.025, 0.016}, {4.909, 4.909, -0.033, 0.037},
{4.909, 5.694, 0.049, 0.055}, {5.694, 0.196, -0.034, 0.047}, {5.694, 0.982, -0.009,
0.019}, {5.694, 1.767, 0.010, 0.014}, {5.694, 2.553, 0.029, 0.012}, {5.694, 3.338,
-0.025, 0.010}, {5.694, 4.123, -0.021, 0.011}, {5.694, 4.909, -0.050, 0.020}, {5.694,
5.694, 0.086, 0.046}}, {{0.196, 0.196, -0.003, 0.020}, {0.196, 0.982, 0.018, 0.016},
{0.196, 1.767, 0.013, 0.013}, {0.196, 2.553, 0.004, 0.012}, {0.196, 3.338, 0.006,
0.016}, {0.196, 4.123, 0.016, 0.020}, {0.196, 4.909, -0.005, 0.020}, {0.196, 5.694,
-0.001, 0.022}, {0.982, 0.196, 0.027, 0.024}, {0.982, 0.982, 0.019, 0.023}, {0.982,
1.767, 0.014, 0.015}, {0.982, 2.553, 0.002, 0.013}, {0.982, 3.338, -0.020, 0.013},
{0.982, 4.123, -0.015, 0.014}, {0.982, 4.909, 0.029, 0.016}, {0.982, 5.694, 0.025,
0.016}, {1.767, 0.196, -0.003, 0.027}, {1.767, 0.982, 0.011, 0.048}, {1.767, 1.767,
0.025, 0.038}, {1.767, 2.553, 0.012, 0.020}, {1.767, 3.338, -0.016, 0.013}, {1.767,
4.123, -0.032, 0.013}, {1.767, 4.909, 0.010, 0.015}, {1.767, 5.694, 0.024, 0.018},
{2.553, 0.196, 0.006, 0.026}, {2.553, 0.982, -0.095, 0.042}, {2.553, 1.767, 0.033,
0.074}, {2.553, 2.553, -0.082, 0.067}, {2.553, 3.338, 0.016, 0.040}, {2.553, 4.123,
-0.035, 0.024}, {2.553, 4.909, -0.025, 0.020}, {2.553, 5.694, 0.022, 0.021}, {3.338,
0.196, -0.002, 0.024}, {3.338, 0.982, 0.021, 0.019}, {3.338, 1.767, 0.031, 0.024},
{3.338, 2.553, 0.017, 0.042}, {3.338, 3.338, 0.111, 0.083}, {3.338, 4.123, 0.074,
0.082}, {3.338, 4.909, -0.021, 0.041}, {3.338, 5.694, -0.021, 0.027}, {4.123, 0.196,
-0.020, 0.017}, {4.123, 0.982, -0.024, 0.015}, {4.123, 1.767, 0.011, 0.013}, {4.123,
2.553, 0.002, 0.013}, {4.123, 3.338, -0.034, 0.019}, {4.123, 4.123, 0.014, 0.036},
{4.123, 4.909, -0.008, 0.045}, {4.123, 5.694, -0.058, 0.027}, {4.909, 0.196, -0.059,
0.017}, {4.909, 0.982, -0.062, 0.016}, {4.909, 1.767, -0.028, 0.013}, {4.909, 2.553,
-0.012, 0.012}, {4.909, 3.338, -0.011, 0.012}, {4.909, 4.123, -0.019, 0.016}, {4.909,
4.909, -0.067, 0.022}, {4.909, 5.694, -0.012, 0.023}, {5.694, 0.196, -0.013, 0.024},
{5.694, 0.982, -0.001, 0.019}, {5.694, 1.767, -0.007, 0.020}, {5.694, 2.553, 0.018,
0.018}, {5.694, 3.338, 0.006, 0.013}, {5.694, 4.123, 0.004, 0.014}, {5.694, 4.909,
-0.023, 0.018}, {5.694, 5.694, -0.021, 0.026}}};


  int ind;
  for(int ih=0; ih<8; ih++) {
    for(int ir=0; ir<8; ir++) {
      ind = ih + 8*ir;
      phiR = gTim[massbin][ind][0];
      phiH = gTim[massbin][ind][1];
      asym = gTim[massbin][ind][2];
      err = gTim[massbin][ind][3];
      //printf("ind=%d  %.3f %.3f %.3f %.3f\n",ind,phiR,phiH,asym,err);
      gSystem->RedirectOutput("asymPrint.timothy.txt",ind==0?"w":"a");
      printf("%.3f %.3f %.3f %.3f\n",phiR,phiH,asym,err);
      gSystem->RedirectOutput(0);
    };
  };

  gROOT->ProcessLine(".! vimdiff asymPrint.chris.txt asymPrint.timothy.txt");


};
